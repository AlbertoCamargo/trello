<%= render partial: "navbar" %>

<div class="fixed-action-btn" style="bottom: 45px; right: 24px;">
  <a class="btn-floating btn-large waves-effect waves-light red" href=<%= "#{new_task_path}" %>>
    <i class="material-icons">add</i>
  </a>
</div>

<p id="notice"><%= notice %></p>

<div class="col s6">
  <h1>To Do</h1>
  <ul class="collection">
    <% @due_tasks.each do |task| %>
      <li class="collection-item avatar">
      <i class="material-icons circle red">report_problem</i>
      <strong><span class="title"><%= task.title%> </span></strong>
      <p><%= task.finish_date %><br>
        <%= task.user.username %>
      </p>

      <div class="secondary-content right">
        <a href= <%= task_path(task) %> ><i class="material-icons">zoom_in</i></a>
        <a href= <%= edit_task_path(task) %> ><i class="material-icons">assignment</i></a>
        <%= link_to task_path(task), method: :delete do %>
          <i class="material-icons">delete</i>
        <%end%>
      </div>
    <% end %>

    <% @tasks.each do |task| %>
      <li class="collection-item avatar">
      <i class="material-icons circle green">thumb_up</i>
      <strong><span class="title"><%= task.title%> </span></strong>
      <p><%= task.finish_date %><br>
        <%= task.user.username %>
      </p>
      <% end %>
  </ul>
</div>



<div class="col s6">
  <h1>Tasks finished</h1>
  <table>
    <thead>
      <tr>
        <th>User</th>
        <th>Title</th>
        <th>Finish date</th>
        <th colspan="3"></th>
      </tr>
    </thead>
    <tbody>
      <% @finished_tasks.each do |task| %>
        <tr>
          <td><%= task.user.username %></td>
          <td><%= task.title %></td>
          <td><%= task.finish_date %></td>
          <td><%= link_to 'Show', task %></td>
          <td><%= link_to 'Edit', edit_task_path(task) %></td>
          <td><%= link_to 'Destroy', task, method: :delete, data: { confirm: 'Are you sure?' } %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>

<%= link_to("sign out", destroy_user_session_path, method: :delete) %>